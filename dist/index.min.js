!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).picturesPreview=t()}(this,function(){"use strict";var o="\n/*! PhotoSwipe main CSS by Dmitry Semenov | photoswipe.com | MIT license */\n/*\n\tStyles for basic PhotoSwipe functionality (sliding area, open/close transitions)\n*/\n/* pswp = photoswipe */\n.pswp {\n  display: none;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n  overflow: hidden;\n  -ms-touch-action: none;\n  touch-action: none;\n  z-index: 1500;\n  -webkit-text-size-adjust: 100%;\n  /* create separate layer, to avoid paint on window.onscroll in webkit/blink */\n  -webkit-backface-visibility: hidden;\n  outline: none; }\n  .pswp * {\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box; }\n  .pswp img {\n    max-width: none; }\n\n/* style is added when JS option showHideOpacity is set to true */\n.pswp--animate_opacity {\n  /* 0.001, because opacity:0 doesn't trigger Paint action, which causes lag at start of transition */\n  opacity: 0.001;\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--open {\n  display: block; }\n\n.pswp--zoom-allowed .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-zoom-in;\n  cursor: -moz-zoom-in;\n  cursor: zoom-in; }\n\n.pswp--zoomed-in .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab; }\n\n.pswp--dragging .pswp__img {\n  /* autoprefixer: off */\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing; }\n\n/*disable download img*/\n.pswp.disableDownload img{\n  -webkit-touch-callout: none;\n  pointer-events: none;\n}\n/*\n\tBackground is added as a separate element.\n\tAs animating opacity is much faster than animating rgba() background-color.\n*/\n.pswp__bg {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: #000;\n  opacity: 0;\n  -webkit-transform: translateZ(0);\n          transform: translateZ(0);\n  -webkit-backface-visibility: hidden;\n  will-change: opacity; }\n\n.pswp__scroll-wrap {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -ms-touch-action: none;\n  touch-action: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0; }\n\n/* Prevent selection and tap highlights */\n.pswp__container,\n.pswp__img {\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n      user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-touch-callout: none; }\n\n.pswp__zoom-wrap {\n  position: absolute;\n  width: 100%;\n  -webkit-transform-origin: left top;\n  -ms-transform-origin: left top;\n  transform-origin: left top;\n  /* for open/close transition */\n  -webkit-transition: -webkit-transform 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: transform 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp__bg {\n  will-change: opacity;\n  /* for open/close transition */\n  -webkit-transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1);\n          transition: opacity 333ms cubic-bezier(0.4, 0, 0.22, 1); }\n\n.pswp--animated-in .pswp__bg,\n.pswp--animated-in .pswp__zoom-wrap {\n  -webkit-transition: none;\n  transition: none; }\n\n.pswp__container,\n.pswp__zoom-wrap {\n  -webkit-backface-visibility: hidden; }\n\n.pswp__item {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  overflow: hidden; }\n\n.pswp__img {\n  position: absolute;\n  width: auto;\n  height: auto;\n  top: 0;\n  left: 0; }\n\n/*\n\tstretched thumbnail or div placeholder element (see below)\n\tstyle is added to avoid flickering in webkit/blink when layers overlap\n*/\n.pswp__img--placeholder {\n  -webkit-backface-visibility: hidden; }\n\n/*\n\tdiv element that matches size of large image\n\tlarge image loads on top of it\n*/\n.pswp__img--placeholder--blank {\n  background: #222; }\n\n.pswp--ie .pswp__img {\n  width: 100% !important;\n  height: auto !important;\n  left: 0;\n  top: 0; }\n\n/*\n\tError message appears when image is not loaded\n\t(JS option errorMsg controls markup)\n*/\n.pswp__error-msg {\n  position: absolute;\n  left: 0;\n  top: 50%;\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  line-height: 16px;\n  margin-top: -8px;\n  color: #CCC; }\n\n.pswp__error-msg a {\n  color: #CCC;\n  text-decoration: underline; }\n\n.pswp_extends_close{\n  position:absolute;\n  right:1.25rem;\n  top:1.25rem;\n  width:2.25rem;\n  height:2.25rem;\n  background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAaVBMVEUAAAD4+Pi7u7tnZ2cyMjLIyMj+/v5HcEz8/Pz////////f39////////9PT090dHT///+EhIQPDw/////t7e3////////////Z2dmmpqb////////T09OlpaWUlJT///////+xsbH///8vlG3yAAAAInRSTlNM5ZtpWKj0AO770MRxs2FwBXZPCtlYHje7i2NCtIt/koiUBwkSmwAAAtVJREFUWMOtmNm2qyAMQKNCD1pxHlo7+/8feSVQWxVQe8mLazlsM5EE4M8ibffkkcfCkHkRf3at7V0wPWhifuhncuBxsw9U1jzstRLyutwMKmPWW4TF5SZQ9sGwI72lCSkKkqQ3evzcj7N1UBuptys/gJkEfqUeRu0KKHsot9IFRbGoCsEjs4EaqQ6jBAxSAKHSxKgxgy7ybycjRgo5Sa0vJlCNIfdyWJXcw1So9aAOOUcCG4QckdTpQFIfHzaKH051GkEXfHCGzXLGDy5zUCP8HN5hh9wF6dBMQRnG/Qa7BHWKsgnoscs/o58wM79BLcYLdgvGrv2A0DCP7AcRbzQOQbEA5/CD5OLL+A0qxeI5wU8iVgsrFUgoxMhvIMKUSqAUovCjUKXSAKpFXi0U0mt49uf3icjkGkFcoxCp+ipZFqMh3NX8nlCJC1Aj8jPQpJqXaDh9P1cpEGurGUDC1fPfwK3XkLCeLV6FCt0NaJmvz1lvouhVB1fa8wF00Fj2NoMF6xy07fAHYpkxXZVHQ1j6HWYtB0CkTwudabkW128SnSs4c0MHT3M2IumQjwXDwMGfPIFbChp9k/ypmZoQcxAVJAUr6f7Ci/GtVNQSEBUlsdfAMBxN1EoiwoAuJyvV1M4BgoEXfyssq/uF7c7aXwrxwiroLke31yrIblqRvwdJf800u7MlZ6WZS2dbw58i53XHC7WH35aQKVOq5FaSTEjLEgnYaJIkXW1LxLhoFYd+K3e1LFpTGYHEm5gjSafCWEYMhU1xrnMFj4WpsBlK7YIzfODpR413qY2NFX3exiX8bCr+2nZEtGYgyTe1I22DFL/RuCMZ+ibRBJ+bWzbx9XPpsrV/WrazIeJ/xprie6xxN2g5G/3cDaPOxmN3A7vaQpz3cXRbCGebGnfbLHcbP3dbUXebY3fb9S0HCLDpAMHdkYa7QxaHxz7uDqIcHo05PKz74fjwH7t7pGX0+GcxAAAAAElFTkSuQmCC');\n  background-size:100% 100%;\n  background-repeat:no-repeat;\n}\n",An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(m,i,e,t){var f={features:null,bind:function(e,t,n,i){var o=(i?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[o](t[a],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){f.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){f.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(f.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var i=e.length;i--;)if(e[i][n]===t)return i;return-1},extend:function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&e.hasOwnProperty(i))continue;e[i]=t[i]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(f.features)return f.features;var e,t,n,i,o=f.createEl().style,a="",r={};r.oldIE=document.all&&!document.addEventListener,r.touch="ontouchstart"in window,window.requestAnimationFrame&&(r.raf=window.requestAnimationFrame,r.caf=window.cancelAnimationFrame),r.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,r.pointerEvent||(e=navigator.userAgent,!/iP(hone|od)/.test(navigator.platform)||(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/))&&0<t.length&&1<=(t=parseInt(t[1],10))&&t<8&&(r.isOldIOSPhone=!0),i=(n=e.match(/Android\s([0-9\.]*)/))?n[1]:0,1<=(i=parseFloat(i))&&(i<4.4&&(r.isOldAndroid=!0),r.androidVersion=i),r.isMobileOpera=/opera mini|opera mobi/i.test(e));for(var s,l,c,u=["transform","perspective","animationName"],d=["","webkit","Moz","ms","O"],p=0;p<4;p++){a=d[p];for(var m=0;m<3;m++)s=u[m],l=a+(a?s.charAt(0).toUpperCase()+s.slice(1):s),!r[s]&&l in o&&(r[s]=l);a&&!r.raf&&(a=a.toLowerCase(),r.raf=window[a+"RequestAnimationFrame"],r.raf&&(r.caf=window[a+"CancelAnimationFrame"]||window[a+"CancelRequestAnimationFrame"]))}return r.raf||(c=0,r.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),i=window.setTimeout(function(){e(t+n)},n);return c=t+n,i},r.caf=function(e){clearTimeout(e)}),r.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,f.features=r}};f.detectFeatures(),f.features.oldIE&&(f.bind=function(e,t,n,i){t=t.split(" ");for(var o,a=(i?"detach":"attach")+"Event",r=function(){n.handleEvent.call(n)},s=0;s<t.length;s++)if(o=t[s])if("object"===(void 0===n?"undefined":An(n))&&n.handleEvent){if(i){if(!n["oldIE"+o])return!1}else n["oldIE"+o]=r;e[a]("on"+o,n["oldIE"+o])}else e[a]("on"+o,n)});var h=this,g={swipeRatio:.5,dbZoomRatio:1.5,allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e||t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};function n(){return{x:0,y:0}}function o(e,t){f.extend(h,t.publicMethods),Je.push(e)}function l(e){var t=Kt();return t-1<e?e-t:e<0?t+e:e}function a(e,t){return tt[e]||(tt[e]=[]),tt[e].push(t)}function y(e){var t=tt[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var i=0;i<t.length;i++)t[i].apply(h,n)}}function p(){return(new Date).getTime()}function w(e){He=e,h.bg.style.opacity=e*g.bgOpacity}function r(e,t,n,i,o){(!et||o&&o!==h.currItem)&&(i/=o?o.fitRatio:h.currItem.fitRatio),e[le]=J+t+"px, "+n+"px"+$+" scale("+i+")"}function u(e,t){var n,i;!g.loop&&t&&(n=G+(Ve.x*Ke-e)/Ve.x,i=Math.round(e-Ct.x),(n<0&&0<i||n>=Kt()-1&&i<0)&&(e=Ct.x+i*g.mainScrollEndFriction)),Ct.x=e,ot(e,X)}function x(e,t){var n=kt[e]-je[e];return Ge[e]+Be[e]+n-t/q*n}function v(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)}function b(e){e.x=Math.round(e.x),e.y=Math.round(e.y)}function s(){at&&(f.unbind(document,"mousemove",s),f.addClass(m,"pswp--has_mouse"),g.mouseUsed=!0,y("mouseUsed")),at=setTimeout(function(){at=null},100)}function d(e,t){var n=Jt(h.currItem,Ye,e);return t&&(Fe=n),n}function A(e){return(e=e||h.currItem).initialZoomLevel}function C(e){return 0<(e=e||h.currItem).w?g.maxSpreadZoom:1}function k(e,t,n,i){return i===h.currItem.initialZoomLevel?(n[e]=h.currItem.initialPosition[e],!0):(n[e]=x(e,i),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))}function c(e){var t="";g.escKey&&27===e.keyCode?t="close":g.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,h[t]()))}function I(e){e&&(Me||Se||ze||Ce)&&(e.preventDefault(),e.stopPropagation())}function E(){h.setScrollOffset(0,f.getScrollY())}function S(e){rt[e]&&(rt[e].raf&&pe(rt[e].raf),st--,delete rt[e])}function M(e){rt[e]&&S(e),rt[e]||(st++,rt[e]={})}function D(){for(var e in rt)rt.hasOwnProperty(e)&&S(e)}function T(t,n,i,o,a,r,s){var l,c=p();M(t),function e(){if(rt[t]){if(l=p()-c,o<=l)return S(t),r(i),void(s&&s());r((i-n)*a(l/o)+n),rt[t].raf=de(e)}}()}function _(e,t){return xt.x=Math.abs(e.x-t.x),xt.y=Math.abs(e.y-t.y),Math.sqrt(xt.x*xt.x+xt.y*xt.y)}function O(e,t){return St.prevent=!function e(t,n){return!(!t||t===document)&&(!(t.getAttribute("class")&&-1<t.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(n(t)?t:e(t.parentNode,n)))}(e.target,g.isClickableElement),y("preventDragEvent",e,t,St),St.prevent}function P(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t}function F(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)}function R(e){!Oe&&1<e.length&&!ze&&!Te&&(q=Q,Oe=Ee=!(Se=!1),Be.y=Be.x=0,v(Ge,Xe),v(dt,e[0]),v(pt,e[1]),F(dt,pt,It),kt.x=Math.abs(It.x)-Xe.x,kt.y=Math.abs(It.y)-Xe.y,Pe=_(dt,pt))}function z(e){for(;0<Tt.length;)Tt.pop();return ce?(Ue=0,gt.forEach(function(e){0===Ue?Tt[0]=e:1===Ue&&(Tt[1]=e),Ue++})):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(Tt[0]=P(e.touches[0],Mt),1<e.touches.length&&(Tt[1]=P(e.touches[1],Dt))):(Mt.x=e.pageX,Mt.y=e.pageY,Mt.id="",Tt[0]=Mt),Tt}function L(e,t){var n,i,o,a=Xe[e]+t[e],r=0<t[e],s=Ct.x+t.x,l=Ct.x-yt.x,c=a>Fe.min[e]||a<Fe.max[e]?g.panEndFriction:1,a=Xe[e]+t[e]*c;if((g.allowPanToNext||Q===h.currItem.initialZoomLevel)&&(Re?"h"!==Le||"x"!==e||Se||(r?(a>Fe.min[e]&&(c=g.panEndFriction,Fe.min[e],n=Fe.min[e]-Ge[e]),(n<=0||l<0)&&1<Kt()?(o=s,l<0&&s>yt.x&&(o=yt.x)):Fe.min.x!==Fe.max.x&&(i=a)):(a<Fe.max[e]&&(c=g.panEndFriction,Fe.max[e],n=Ge[e]-Fe.max[e]),(n<=0||0<l)&&1<Kt()?(o=s,0<l&&s<yt.x&&(o=yt.x)):Fe.min.x!==Fe.max.x&&(i=a))):o=s,"x"===e))return void 0!==o&&(u(o,!0),Te=o!==yt.x),Fe.min.x!==Fe.max.x&&(void 0!==i?Xe.x=i:Te||(Xe.x+=t.x*c)),void 0!==o;ze||Te||Q>h.currItem.fitRatio&&(Xe[e]+=t[e]*c)}function Z(e){var t,n,i;"mousedown"===e.type&&0<e.button||(Xt?e.preventDefault():ke&&"mousedown"===e.type||(O(e,!0)&&e.preventDefault(),y("pointerDown"),ce&&((t=f.arraySearch(gt,e.pointerId,"id"))<0&&(t=gt.length),gt[t]={x:e.pageX,y:e.pageY,id:e.pointerId}),i=(n=z(e)).length,_e=null,D(),Ie&&1!==i||(Ie=Ze=!0,f.bind(window,K,h),Ae=We=Ne=Ce=Te=Me=Ee=Se=!1,Le=null,y("firstTouchStart",n),v(Ge,Xe),Be.x=Be.y=0,v(ft,n[0]),v(ht,ft),yt.x=Ve.x*Ke,wt=[{x:ft.x,y:ft.y}],ve=xe=p(),d(Q,!0),Et(),function e(){Ie&&(De=de(e),_t())}()),R(n)))}function N(e){var t,n,i,o,a,r,s;e.preventDefault(),!ce||-1<(t=f.arraySearch(gt,e.pointerId,"id"))&&((n=gt[t]).x=e.pageX,n.y=e.pageY),Ie&&(i=z(e),Le||Me||Oe?("v"===Le&&(o=h.currItem.initialPosition.y<Xe.y?(o=10+(h.currItem.initialPosition.y-Xe.y)/20)<0?0:o:10,i[1]={x:i[0].x+o,y:i[0].y+o,id:i[0].id+11}),_e=i):Ct.x!==Ve.x*Ke?Le="h":(a=Math.abs(i[0].x-ft.x)-Math.abs(i[0].y-ft.y),10<=Math.abs(a)&&("v"===(Le=0<a?"h":"v")&&"fit"===g.scaleMode&&Q===h.currItem.initialZoomLevel?(i[1]=(r=i[0],s=10,{x:r.x+s,y:r.y+s,id:r.id+1}),R(i)):_e=i)))}function H(e){if(ye.isOldAndroid){if(ke&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(ke),ke=setTimeout(function(){ke=0},600))}var t,n;y("pointerUp"),O(e,!1)&&e.preventDefault(),!ce||-1<(t=f.arraySearch(gt,e.pointerId,"id"))&&(n=gt.splice(t,1)[0],navigator.msPointerEnabled?(n.type={4:"mouse",2:"touch",3:"pen"}[e.pointerType],n.type||(n.type=e.pointerType||"mouse")):n.type=e.pointerType||"mouse");var i,o=z(e),a=o.length;if("mouseup"===e.type&&(a=0),2===a)return!(_e=null);1===a&&v(ht,o[0]),0!==a||Le||ze||(n||("mouseup"===e.type?n={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(n={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),y("touchRelease",e,n));var r,s=-1;if(0===a&&(Ie=!1,f.unbind(window,K,h),Et(),Oe?s=0:-1!==At&&(s=p()-At)),At=1===a?p():-1,i=-1!==s&&s<150?"zoom":"swipe",Oe&&a<2&&(Oe=!1,1===a&&(i="zoomPointerUp"),y("zoomGestureEnded")),_e=null,Me||Se||ze||Ce){if(D(),(be=be||Ot()).calculateSwipeSpeed("x"),Ce){r=Xe.y-h.currItem.initialPosition.y,Math.abs(r/(Ye.y/2));var l=Xe.x,c=Xe.y,u=He;return T("verticalDrag",0,1,300,f.easing.cubic.out,function(e){Xe.y=(h.currItem.initialPosition.y-c)*e+c,Xe.x=(h.currItem.initialPosition.x-l)*e+l,w((1-u)*e+u),nt()}),void y("onVerticalDrag",1)}if((Te||ze)&&0===a){if(Ft(i,be))return;i="zoomPointerUp"}ze||("swipe"===i?!Te&&Q>h.currItem.fitRatio&&Pt(be):zt())}}f.extend(g,t);var W,U,B,G,X,Y,K,j,V,Q,q,J,$,ee,te,ne,ie,oe,ae,re,se,le,ce,ue,de,pe,me,fe,he,ge,ye,we,xe,ve,be,Ae,Ce,ke,Ie,Ee,Se,Me,De,Te,_e,Oe,Pe,Fe,Re,ze,Le,Ze,Ne,He,We,Ue,Be=n(),Ge=n(),Xe=n(),Ye={},Ke=0,je={},Ve=n(),Qe=0,qe=!0,Je=[],$e={},et=!1,tt={},nt=function(e){Re&&(e&&(Q>h.currItem.fitRatio?et||($t(h.currItem,!1,!0),et=!0):et&&($t(h.currItem),et=!1)),r(Re,Xe.x,Xe.y,Q))},it=function(e){e.container&&r(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},ot=function(e,t){t[le]=J+e+"px, 0px"+$},at=null,rt={},st=0,lt={shout:y,listen:a,viewportSize:Ye,options:g,isMainScrollAnimating:function(){return ze},getZoomLevel:function(){return Q},getCurrentIndex:function(){return G},isDragging:function(){return Ie},isZooming:function(){return Oe},setScrollOffset:function(e,t){je.x=e,ge=je.y=t,y("updateScrollOffset",je)},applyZoomPan:function(e,t,n,i){Xe.x=t,Xe.y=n,Q=e,nt(i)},init:function(){if(!W&&!U){var e;document.body.appendChild(m),h.framework=f,h.template=m,h.bg=f.getChildByClass(m,"pswp__bg"),me=m.className,W=!0,ye=f.detectFeatures(),de=ye.raf,pe=ye.caf,le=ye.transform,he=ye.oldIE,h.scrollWrap=f.getChildByClass(m,"pswp__scroll-wrap"),h.container=f.getChildByClass(h.scrollWrap,"pswp__container"),X=h.container.style,h.itemHolders=ne=[{el:h.container.children[0],wrap:0,index:-1},{el:h.container.children[1],wrap:0,index:-1},{el:h.container.children[2],wrap:0,index:-1}],ne[0].el.style.display=ne[2].el.style.display="none",function(){if(le){var e=ye.perspective&&!ue;return J="translate"+(e?"3d(":"("),$=ye.perspective?", 0px)":")"}le="left",f.addClass(m,"pswp--ie"),ot=function(e,t){t.left=e+"px"},it=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,i=t*e.w,o=t*e.h;n.width=i+"px",n.height=o+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},nt=function(){var e,t,n,i,o;Re&&(e=Re,i=(n=1<(t=h.currItem).fitRatio?1:t.fitRatio)*t.w,o=n*t.h,e.width=i+"px",e.height=o+"px",e.left=Xe.x+"px",e.top=Xe.y+"px")}}(),V={resize:h.updateSize,orientationchange:function(){clearTimeout(we),we=setTimeout(function(){Ye.x!==h.scrollWrap.clientWidth&&h.updateSize()},500)},scroll:E,keydown:c,click:I};var t=ye.isOldIOSPhone||ye.isOldAndroid||ye.isMobileOpera;for(ye.animationName&&ye.transform&&!t||(g.showAnimationDuration=g.hideAnimationDuration=0),e=0;e<Je.length;e++)h["init"+Je[e]]();i&&(h.ui=new i(h,f)).init(),y("firstUpdate"),G=G||g.index||0,(isNaN(G)||G<0||G>=Kt())&&(G=0),h.currItem=Yt(G),(ye.isOldIOSPhone||ye.isOldAndroid)&&(qe=!1),m.setAttribute("aria-hidden","false"),g.modal&&(qe?m.style.position="fixed":(m.style.position="absolute",m.style.top=f.getScrollY()+"px")),void 0===ge&&(y("initialLayout"),ge=fe=f.getScrollY());var n="pswp--open ";for(g.mainClass&&(n+=g.mainClass+" "),g.showHideOpacity&&(n+="pswp--animate_opacity "),n+=ue?"pswp--touch":"pswp--notouch",n+=ye.animationName?" pswp--css_animation":"",n+=ye.svg?" pswp--svg":"",f.addClass(m,n),h.updateSize(),Y=-1,Qe=null,e=0;e<3;e++)ot((e+Y)*Ve.x,ne[e].el.style);he||f.bind(h.scrollWrap,j,h),a("initialZoomInEnd",function(){h.setContent(ne[0],G-1),h.setContent(ne[2],G+1),ne[0].el.style.display=ne[2].el.style.display="block",g.focus&&m.focus(),f.bind(document,"keydown",h),ye.transform&&f.bind(h.scrollWrap,"click",h),g.mouseUsed||f.bind(document,"mousemove",s),f.bind(window,"resize scroll orientationchange",h),y("bindEvents")}),h.setContent(ne[1],G),h.updateCurrItem(),y("afterInit"),qe||(ee=setInterval(function(){st||Ie||Oe||Q!==h.currItem.initialZoomLevel||h.updateSize()},1e3)),f.addClass(m,"pswp--visible")}},close:function(){W&&(U=!(W=!1),y("close"),f.unbind(window,"resize scroll orientationchange",h),f.unbind(window,"scroll",V.scroll),f.unbind(document,"keydown",h),f.unbind(document,"mousemove",s),ye.transform&&f.unbind(h.scrollWrap,"click",h),Ie&&f.unbind(window,K,h),clearTimeout(we),y("unbindEvents"),jt(h.currItem,null,!0,h.destroy))},destroy:function(){y("destroy"),Ut&&clearTimeout(Ut),m.setAttribute("aria-hidden","true"),m.className=me,ee&&clearInterval(ee),f.unbind(h.scrollWrap,j,h),f.unbind(window,"scroll",h),Et(),D(),tt=null,h.template.parentNode.removeChild(h.template)},panTo:function(e,t,n){n||(e>Fe.min.x?e=Fe.min.x:e<Fe.max.x&&(e=Fe.max.x),t>Fe.min.y?t=Fe.min.y:t<Fe.max.y&&(t=Fe.max.y)),Xe.x=e,Xe.y=t,nt()},handleEvent:function(e){e=e||window.event,V[e.type]&&V[e.type](e)},goTo:function(e){var t=(e=l(e))-G;Qe=t,G=e,h.currItem=Yt(G),Ke-=t,u(Ve.x*Ke),D(),ze=!1,h.updateCurrItem()},next:function(){h.goTo(G+1)},prev:function(){h.goTo(G-1)},updateCurrZoomItem:function(e){var t;e&&y("beforeChange",0),Re=ne[1].el.children.length?(t=ne[1].el.children[0],f.hasClass(t,"pswp__zoom-wrap")?t.style:null):null,Fe=h.currItem.bounds,q=Q=h.currItem.initialZoomLevel,Xe.x=Fe.center.x,Xe.y=Fe.center.y,e&&y("afterChange")},invalidateCurrItems:function(){te=!0;for(var e=0;e<3;e++)ne[e].item&&(ne[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==Qe){var t,n=Math.abs(Qe);if(!(e&&n<2)){h.currItem=Yt(G),et=!1,y("beforeChange",Qe),3<=n&&(Y+=Qe+(0<Qe?-3:3),n=3);for(var i,o=0;o<n;o++)0<Qe?(t=ne.shift(),ne[2]=t,ot((++Y+2)*Ve.x,t.el.style),h.setContent(t,G-n+o+1+1)):(t=ne.pop(),ne.unshift(t),ot(--Y*Ve.x,t.el.style),h.setContent(t,G+n-o-1-1));!Re||1!==Math.abs(Qe)||(i=Yt(ie)).initialZoomLevel!==Q&&(Jt(i,Ye),$t(i),it(i)),Qe=0,h.updateCurrZoomItem(),ie=G,y("afterChange")}}},updateSize:function(e){if(!qe&&g.modal){var t=f.getScrollY();if(ge!==t&&(m.style.top=t+"px",ge=t),!e&&$e.x===window.innerWidth&&$e.y===window.innerHeight)return;$e.x=window.innerWidth,$e.y=window.innerHeight,m.style.height=$e.y+"px"}if(Ye.x=h.scrollWrap.clientWidth,Ye.y=h.scrollWrap.clientHeight,ut(Ye.x,g.swipeRatio),E(),Ve.x=Ye.x+Math.round(Ye.x*g.spacing),Ve.y=Ye.y,u(Ve.x*Ke),y("beforeResize"),void 0!==Y){for(var n,i,o,a=0;a<3;a++)n=ne[a],ot((a+Y)*Ve.x,n.el.style),o=G+a-1,g.loop&&2<Kt()&&(o=l(o)),(i=Yt(o))&&(te||i.needsUpdate||!i.bounds)?(h.cleanSlide(i),h.setContent(n,o),1===a&&(h.currItem=i,h.updateCurrZoomItem(!0)),i.needsUpdate=!1):-1===n.index&&0<=o&&h.setContent(n,o),i&&i.container&&(Jt(i,Ye),$t(i),it(i));te=!1}q=Q=h.currItem.initialZoomLevel,(Fe=h.currItem.bounds)&&(Xe.x=Fe.center.x,Xe.y=Fe.center.y,nt(!0)),y("resize")},zoomTo:function(t,e,n,i,o){e&&(q=Q,kt.x=Math.abs(e.x)-Xe.x,kt.y=Math.abs(e.y)-Xe.y,v(Ge,Xe));var a=d(t,!1),r={};k("x",a,r,t),k("y",a,r,t);var s=Q,l=Xe.x,c=Xe.y;b(r);function u(e){1===e?(Q=t,Xe.x=r.x,Xe.y=r.y):(Q=(t-s)*e+s,Xe.x=(r.x-l)*e+l,Xe.y=(r.y-c)*e+c),o&&o(e),nt(1===e)}n?T("customZoomTo",0,1,n,i||f.easing.sine.inOut,u):u(1)}},ct=100,ut=function(e,t){ct=e*t},dt={},pt={},mt={},ft={},ht={},gt=[],yt={},wt=[],xt={},vt=0,bt=n(),At=0,Ct=n(),kt=n(),It=n(),Et=function(){De&&(pe(De),De=null)},St={},Mt={},Dt={},Tt=[],_t=function(){if(_e){var e,t,n,i,o,a,r=_e.length;if(0!==r)if(v(dt,_e[0]),mt.x=dt.x-ft.x,mt.y=dt.y-ft.y,Oe&&1<r){if(ft.x=dt.x,ft.y=dt.y,!mt.x&&!mt.y&&(o=_e[1],a=pt,o.x===a.x&&o.y===a.y))return;v(pt,_e[1]),Se||(Se=!0,y("zoomGestureStarted"));var s=_(dt,pt),l=Rt(s);l>h.currItem.initialZoomLevel+h.currItem.initialZoomLevel/15&&(We=!0);var c=1,u=A(),d=C();l<u?("v"===Le||!g.pinchToClose||We||q>h.currItem.initialZoomLevel)&&(1<(c=(u-l)/u)&&(c=1),l=u-c*(u/3)):d<l&&(1<(c=(l-d)/(6*u))&&(c=1),l=d+c*u),"v"===Le&&(w(1-(u-l)/(u/1.2)),Ne=!0),c<0&&(c=0),F(dt,pt,bt),Be.x+=bt.x-It.x,Be.y+=bt.y-It.y,v(It,bt),Xe.x=x("x",l),Xe.y=x("y",l),Ae=Q<l,Q=l,nt()}else{if(!Le)return;if(Ze&&(Ze=!1,10<=Math.abs(mt.x)&&(mt.x-=_e[0].x-ht.x),10<=Math.abs(mt.y)&&(mt.y-=_e[0].y-ht.y)),ft.x=dt.x,ft.y=dt.y,0===mt.x&&0===mt.y)return;e=p(),t=dt.x,n=dt.y,50<e-ve&&((i=2<wt.length?wt.shift():{}).x=t,i.y=n,wt.push(i),ve=e),Me=!0,Fe=h.currItem.bounds,L("x",mt)||(L("y",mt),b(Xe),nt())}}},Ot=function(){var t,n,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){n=1<wt.length?(t=p()-ve+50,wt[wt.length-2][e]):(t=p()-xe,ht[e]),i.lastFlickOffset[e]=ft[e]-n,i.lastFlickDist[e]=Math.abs(i.lastFlickOffset[e]),20<i.lastFlickDist[e]?i.lastFlickSpeed[e]=i.lastFlickOffset[e]/t:i.lastFlickSpeed[e]=0,Math.abs(i.lastFlickSpeed[e])<.1&&(i.lastFlickSpeed[e]=0),i.slowDownRatio[e]=.95,i.slowDownRatioReverse[e]=1-i.slowDownRatio[e],i.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(Xe[t]>Fe.min[t]?i.backAnimDestination[t]=Fe.min[t]:Xe[t]<Fe.max[t]&&(i.backAnimDestination[t]=Fe.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,T("bounceZoomPan"+t,Xe[t],i.backAnimDestination[t],e||300,f.easing.sine.out,function(e){Xe[t]=e,nt()}))))},calculateAnimOffset:function(e){i.backAnimStarted[e]||(i.speedDecelerationRatio[e]=i.speedDecelerationRatio[e]*(i.slowDownRatio[e]+i.slowDownRatioReverse[e]-i.slowDownRatioReverse[e]*i.timeDiff/10),i.speedDecelerationRatioAbs[e]=Math.abs(i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]),i.distanceOffset[e]=i.lastFlickSpeed[e]*i.speedDecelerationRatio[e]*i.timeDiff,Xe[e]+=i.distanceOffset[e])},panAnimLoop:function(){if(rt.zoomPan&&(rt.zoomPan.raf=de(i.panAnimLoop),i.now=p(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),nt(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05))return Xe.x=Math.round(Xe.x),Xe.y=Math.round(Xe.y),nt(),void S("zoomPan")}};return i},Pt=function(e){if(e.calculateSwipeSpeed("y"),Fe=h.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;M("zoomPan"),e.lastNow=p(),e.panAnimLoop()},Ft=function(e,t){var n,i,o,a,r;ze||(vt=G),"swipe"===e&&(o=ft.x-ht.x,a=40<t.lastFlickDist.x,ct<o||a&&40<t.lastFlickOffset.x?i=-1:(o<-ct||a&&t.lastFlickOffset.x<-40)&&(i=1)),i&&((G+=i)<0?(G=g.loop?Kt()-1:0,r=!0):G>=Kt()&&(G=g.loop?0:Kt()-1,r=!0),r&&!g.loop||(Qe+=i,Ke-=i,n=!0));var s=Ve.x*Ke,l=Math.abs(s-Ct.x),c=n||s>Ct.x==0<t.lastFlickSpeed.x?(c=0<Math.abs(t.lastFlickSpeed.x)?l/Math.abs(t.lastFlickSpeed.x):333,c=Math.min(c,400),Math.max(c,250)):333;return vt===G&&(n=!1),ze=!0,y("mainScrollAnimStart"),T("mainScroll",Ct.x,s,c,f.easing.cubic.out,u,function(){D(),ze=!1,vt=-1,!n&&vt===G||h.updateCurrItem(),y("mainScrollAnimComplete")}),n&&h.updateCurrItem(!0),n},Rt=function(e){return 1/Pe*e*q},zt=function(){var e=Q,t=A(),n=C();Q<t?e=t:n<Q&&(e=n);var i,o=He;return Ne&&!Ae&&!We&&Q<t?h.close():(Ne&&(i=function(e){w((1-o)*e+o)}),h.zoomTo(e,0,200,f.easing.cubic.out,i)),!0};function Lt(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}}function Zt(e,t,n,i,o,a){t.loadError||i&&(t.imageAppended=!0,$t(t,i,t===h.currItem&&et),n.appendChild(i),a&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))}function Nt(e){function t(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,n.onload=n.onerror=null,n=null}e.loading=!0,e.loaded=!1;var n=e.img=f.createEl("pswp__img","img");return n.onload=t,n.onerror=function(){e.loadError=!0,t()},n.src=e.src,n}function Ht(e,t){return e.src&&e.loadError&&e.container&&(t&&(e.container.innerHTML=""),e.container.innerHTML=g.errorMsg.replace("%url%",e.src),1)}function Wt(){if(Qt.length){for(var e,t=0;t<Qt.length;t++)(e=Qt[t]).holder.index===e.index&&Zt(e.index,e.item,e.baseDiv,e.img,0,e.clearPlaceholder);Qt=[]}}o("Gestures",{publicMethods:{initGestures:function(){function e(e,t,n,i,o){oe=e+t,ae=e+n,re=e+i,se=o?e+o:""}(ce=ye.pointerEvent)&&ye.touch&&(ye.touch=!1),ce?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):ye.touch?(e("touch","start","move","end","cancel"),ue=!0):e("mouse","down","move","up"),K=ae+" "+re+" "+se,j=oe,ce&&!ue&&(ue=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),h.likelyTouchDevice=ue,V[oe]=Z,V[ae]=N,V[re]=H,se&&(V[se]=V[re]),ye.touch&&(j+=" mousedown",K+=" mousemove mouseup",V.mousedown=V[oe],V.mousemove=V[ae],V.mouseup=V[re]),ue||(g.allowPanToNext=!1)}}});var Ut,Bt,Gt,Xt,Yt,Kt,jt=function(r,e,s,t){var l;Ut&&clearTimeout(Ut),Gt=Xt=!0,r.initialLayout?(l=r.initialLayout,r.initialLayout=null):l=g.getThumbBoundsFn&&g.getThumbBoundsFn(G);function c(){S("initialZoom"),s?(h.template.removeAttribute("style"),h.bg.removeAttribute("style")):(w(1),e&&(e.style.display="block"),f.addClass(m,"pswp--animated-in"),y("initialZoom"+(s?"OutEnd":"InEnd"))),t&&t(),Xt=!1}var u=s?g.hideAnimationDuration:g.showAnimationDuration;if(!u||!l||void 0===l.x)return y("initialZoom"+(s?"Out":"In")),Q=r.initialZoomLevel,v(Xe,r.initialPosition),nt(),m.style.opacity=s?0:1,w(1),void(u?setTimeout(function(){c()},u):c());var d,p;d=B,p=!h.currItem.src||h.currItem.loadError||g.showHideOpacity,r.miniImg&&(r.miniImg.style.webkitBackfaceVisibility="hidden"),s||(Q=l.w/r.w,Xe.x=l.x,Xe.y=l.y-fe,h[p?"template":"bg"].style.opacity=.001,nt()),M("initialZoom"),s&&!d&&f.removeClass(m,"pswp--animated-in"),p&&(s?f[(d?"remove":"add")+"Class"](m,"pswp--animate_opacity"):setTimeout(function(){f.addClass(m,"pswp--animate_opacity")},30)),Ut=setTimeout(function(){var t,n,i,o,a,e;y("initialZoom"+(s?"Out":"In")),s?(t=l.w/r.w,n=Xe.x,i=Xe.y,o=Q,a=He,e=function(e){1===e?(Q=t,Xe.x=l.x,Xe.y=l.y-ge):(Q=(t-o)*e+o,Xe.x=(l.x-n)*e+n,Xe.y=(l.y-ge-i)*e+i),nt(),p?m.style.opacity=1-e:w(a-e*a)},d?T("initialZoom",0,1,u,f.easing.cubic.out,e,c):(e(1),Ut=setTimeout(c,u+20))):(Q=r.initialZoomLevel,v(Xe,r.initialPosition),nt(),w(1),p?m.style.opacity=1:w(1),Ut=setTimeout(c,u+20))},s?25:90)},Vt={},Qt=[],qt={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Bt.length}},Jt=function(e,t,n){if(!e.src||e.loadError)return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds=Lt(),e.initialPosition=e.bounds.center,e.bounds;var i,o,a,r,s,l,c,u=!n;return u&&(e.vGap||(e.vGap={top:0,bottom:0}),y("parseVerticalMargin",e)),Vt.x=t.x,Vt.y=t.y-e.vGap.top-e.vGap.bottom,u&&(i=Vt.x/e.w,o=Vt.y/e.h,e.fitRatio=i<o?i:o,"orig"===(a=g.scaleMode)?n=1:"fit"===a&&(n=e.fitRatio),1<n&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds=Lt())),n?(s=(r=e).w*n,l=e.h*n,(c=r.bounds).center.x=Math.round((Vt.x-s)/2),c.center.y=Math.round((Vt.y-l)/2)+r.vGap.top,c.max.x=s>Vt.x?Math.round(Vt.x-s):c.center.x,c.max.y=l>Vt.y?Math.round(Vt.y-l)+r.vGap.top:c.center.y,c.min.x=s>Vt.x?0:c.center.x,c.min.y=l>Vt.y?r.vGap.top:c.center.y,u&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0},$t=function(e,t,n){var i,o;e.src&&(t=t||e.container.lastChild,i=n?e.w:Math.round(e.w*e.fitRatio),o=n?e.h:Math.round(e.h*e.fitRatio),e.placeholder&&!e.loaded&&(e.placeholder.style.width=i+"px",e.placeholder.style.height=o+"px"),t.style.width=i+"px",t.style.height=o+"px")};function en(e,t,n){var i=document.createEvent("CustomEvent"),o={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};i.initCustomEvent("pswpTap",!0,!0,o),e.target.dispatchEvent(i)}o("Controller",{publicMethods:{lazyLoadItem:function(e){e=l(e);var t=Yt(e);t&&(!t.loaded&&!t.loading||te)&&(y("gettingData",e,t),t.src&&Nt(t))},initController:function(){f.extend(g,qt,!0),h.items=Bt=e,Yt=h.getItemAt,(Kt=g.getNumItemsFn)()<3&&(g.loop=!1),a("beforeChange",function(e){for(var t=g.preload,n=null===e||0<=e,i=Math.min(t[0],Kt()),o=Math.min(t[1],Kt()),a=1;a<=(n?o:i);a++)h.lazyLoadItem(G+a);for(a=1;a<=(n?i:o);a++)h.lazyLoadItem(G-a)}),a("initialLayout",function(){h.currItem.initialLayout=g.getThumbBoundsFn&&g.getThumbBoundsFn(G)}),a("mainScrollAnimComplete",Wt),a("initialZoomInEnd",Wt),a("destroy",function(){for(var e,t=0;t<Bt.length;t++)(e=Bt[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Qt=null})},getItemAt:function(e){return 0<=e&&(void 0!==Bt[e]&&Bt[e])},allowProgressiveImg:function(){return g.forceProgressiveLoading||!ue||g.mouseUsed||1200<screen.width},setContent:function(t,n){g.loop&&(n=l(n));var e=h.getItemAt(t.index);e&&(e.container=null);var i,o,a,r,s=h.getItemAt(n);s?(y("gettingData",n,s),t.index=n,o=(t.item=s).container=f.createEl("pswp__zoom-wrap"),!s.src&&s.html&&(s.html.tagName?o.appendChild(s.html):o.innerHTML=s.html),Ht(s),Jt(s,Ye),!s.src||s.loadError||s.loaded?s.src&&!s.loadError&&((i=f.createEl("pswp__img","img")).style.opacity=1,i.src=s.src,$t(s,i),Zt(0,s,o,i)):(s.loadComplete=function(e){if(W){if(t&&t.index===n){if(Ht(e,!0))return e.loadComplete=e.img=null,Jt(e,Ye),it(e),void(t.index===G&&h.updateCurrZoomItem());e.imageAppended?!Xt&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):ye.transform&&(ze||Xt)?Qt.push({item:e,baseDiv:o,img:e.img,index:n,holder:t,clearPlaceholder:!0}):Zt(0,e,o,e.img,0,!0)}e.loadComplete=null,e.img=null,y("imageLoadComplete",n,e)}},f.features.transform&&(a="pswp__img pswp__img--placeholder",a+=s.msrc?"":" pswp__img--placeholder--blank",r=f.createEl(a,s.msrc?"img":""),s.msrc&&(r.src=s.msrc),$t(s,r),o.appendChild(r),s.placeholder=r),s.loading||Nt(s),h.allowProgressiveImg()&&(!Gt&&ye.transform?Qt.push({item:s,baseDiv:o,img:s.img,index:n,holder:t}):Zt(0,s,o,s.img,0,!0))),Gt||n!==G?it(s):(Re=o.style,jt(s,i||s.img)),t.el.innerHTML="",t.el.appendChild(o)):t.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var tn,nn,on={};function an(){return xn.hash.substring(1)}function rn(){cn&&clearTimeout(cn),dn&&clearTimeout(dn)}function sn(){var e=an(),t={};if(e.length<5)return t;var n,i=e.split("&");for(a=0;a<i.length;a++){i[a]&&((n=i[a].split("=")).length<2||(t[n[0]]=n[1]))}if(g.galleryPIDs){for(var o=t.pid,a=t.pid=0;a<Bt.length;a++)if(Bt[a].pid===o){t.pid=a;break}}else t.pid=parseInt(t.pid,10)-1;return t.pid<0&&(t.pid=0),t}function ln(){var e,t,n,i;dn&&clearTimeout(dn),st||Ie?dn=setTimeout(ln,500):(pn?clearTimeout(un):pn=!0,e=G+1,(t=Yt(G)).hasOwnProperty("pid")&&(e=t.pid),n=hn+"&gid="+g.galleryUID+"&pid="+e,gn||-1===xn.hash.indexOf(n)&&(wn=!0),i=xn.href.split("#")[0]+"#"+n,vn?"#"+n!==window.location.hash&&history[gn?"replaceState":"pushState"]("",document.title,i):gn?xn.replace(i):xn.hash=n,gn=!0,un=setTimeout(function(){pn=!1},60))}o("Tap",{publicMethods:{initTap:function(){a("firstTouchStart",h.onTapStart),a("touchRelease",h.onTapRelease),a("destroy",function(){on={},tn=null})},onTapStart:function(e){1<e.length&&(clearTimeout(tn),tn=null)},onTapRelease:function(e,t){var n,i;if(t&&(!Me&&!Ee&&!st)){var o=t;if(tn&&(clearTimeout(tn),tn=null,n=o,i=on,Math.abs(n.x-i.x)<25&&Math.abs(n.y-i.y)<25)){y("doubleTap",o);var a=Q,r=A(),s=C(),a=a<=r?r+(s-a)*(g.dbZoomRatio-1):r;return void h.zoomTo(a,ft,300,f.easing.cubic.out)}if("mouse"===t.type)return void en(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||f.hasClass(e.target,"pswp__single-tap"))return void en(e,t);v(on,o),tn=setTimeout(function(){h.close(),en(e,t),tn=null},300)}}}}),o("DesktopZoom",{publicMethods:{initDesktopZoom:function(){he||(ue?a("mouseUsed",function(){h.setupDesktopZoom()}):h.setupDesktopZoom(!0))},setupDesktopZoom:function(e){nn={};var t="wheel mousewheel DOMMouseScroll";a("bindEvents",function(){f.bind(m,t,h.handleMouseWheel)}),a("unbindEvents",function(){nn&&f.unbind(m,t,h.handleMouseWheel)}),h.mouseZoomedIn=!1;function n(){h.mouseZoomedIn&&(f.removeClass(m,"pswp--zoomed-in"),h.mouseZoomedIn=!1),Q<1?f.addClass(m,"pswp--zoom-allowed"):f.removeClass(m,"pswp--zoom-allowed"),o()}var i,o=function(){i&&(f.removeClass(m,"pswp--dragging"),i=!1)};a("resize",n),a("afterChange",n),a("pointerDown",function(){h.mouseZoomedIn&&(i=!0,f.addClass(m,"pswp--dragging"))}),a("pointerUp",o),e||n()},handleMouseWheel:function(e){if(Q<=h.currItem.fitRatio)return g.modal&&(!g.closeOnScroll||st||Ie?e.preventDefault():le&&2<Math.abs(e.deltaY)&&(B=!0,h.close())),!0;if(e.stopPropagation(),nn.x=0,"deltaX"in e)1===e.deltaMode?(nn.x=18*e.deltaX,nn.y=18*e.deltaY):(nn.x=e.deltaX,nn.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(nn.x=-.16*e.wheelDeltaX),e.wheelDeltaY?nn.y=-.16*e.wheelDeltaY:nn.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;nn.y=e.detail}d(Q,!0);var t=Xe.x-nn.x,n=Xe.y-nn.y;(g.modal||t<=Fe.min.x&&t>=Fe.max.x&&n<=Fe.min.y&&n>=Fe.max.y)&&e.preventDefault(),h.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:Ye.x/2+je.x,y:Ye.y/2+je.y};var t=g.getDoubleTapZoom(!0,h.currItem),n=Q===t;h.mouseZoomedIn=!n,h.zoomTo(n?h.currItem.initialZoomLevel:t,e,333),f[(n?"remove":"add")+"Class"](m,"pswp--zoomed-in")}}});var cn,un,dn,pn,mn,fn,hn,gn,yn,wn,xn,vn,bn={history:!0,galleryUID:1};o("History",{publicMethods:{initHistory:function(){var e,t;f.extend(g,bn,!0),g.history&&(xn=window.location,gn=yn=wn=!1,hn=an(),vn="pushState"in history,-1<hn.indexOf("gid=")&&(hn=(hn=hn.split("&gid=")[0]).split("?gid=")[0]),a("afterChange",h.updateURL),a("unbindEvents",function(){f.unbind(window,"hashchange",h.onHashChange)}),e=function(){fn=!0,yn||(wn?history.back():hn?xn.hash=hn:vn?history.pushState("",document.title,xn.pathname+xn.search):xn.hash=""),rn()},a("unbindEvents",function(){B&&e()}),a("destroy",function(){fn||e()}),a("firstUpdate",function(){G=sn().pid}),-1<(t=hn.indexOf("pid="))&&"&"===(hn=hn.substring(0,t)).slice(-1)&&(hn=hn.slice(0,-1)),setTimeout(function(){W&&f.bind(window,"hashchange",h.onHashChange)},40))},onHashChange:function(){if(an()===hn)return yn=!0,void h.close();pn||(mn=!0,h.goTo(sn().pid),mn=!1)},updateURL:function(){rn(),mn||(gn?cn=setTimeout(ln,800):ln())}}}),f.extend(h,lt)}var t=document.createElement("img"),s=void 0!==t.naturalWidth&&null!==t.naturalWidth,n=Object.prototype.hasOwnProperty,c={on:function(e,t,n,i){var o=3<arguments.length&&void 0!==i&&i;e.addEventListener(t,n,o)},off:function(e,t,n,i){var o=3<arguments.length&&void 0!==i&&i;e.removeEventListener(t,n,o)},getAttr:function(e,t){return e.getAttribute(t)},hasAttr:function(e,t){return e.hasAttribute&&e.hasAttribute(t)},hasOwn:function(e,t){return n.call(e,t)},getTagetImgIndex:function(e,n){var i=0;return(e=Array.prototype.slice.apply(e)).forEach(function(e,t){e===n&&(i=t)}),i},getImgItems:function(e,t){var n=this;return(e=Array.prototype.slice.apply(e)).map(function(e){return n.getImgInfos(e,t)})},getImgWH:function(e){var t,n=void 0;return s?n={w:e.naturalWidth,h:e.naturalHeight}:(t=e.style.cssText,e.style.cssText="width:auto !important;height:auto !important;",n={w:e.width,h:e.height},e.style.cssText=t),n},getImgInfos:function(e,t){var n=t&&this.getAttr(e,t),i=this.getImgWH(e);return{imgElm:e,src:n||e.src,msrc:e.src,w:i.w,h:i.h}},isComplianceImg:function(e,t){return"img"===e.tagName.toLocaleLowerCase()&&(!t||t&&c.hasAttr(e,t))},extend:function(e){var n,i=this;arguments.length<2||(n=e,[].slice.call(arguments,1).forEach(function(e){for(var t in e)i.hasOwn(e,t)&&(n[t]=e[t])}))}};function l(e){var t;(t=document.createElement("style")).innerText=o,document.body.appendChild(t);var n=document.createElement("div"),i=e?"disableDownload":"";return n.innerHTML='\n       <div class="pswp '+i+'" tabindex="-1" role="dialog" aria-hidden="true">\n           <div class="pswp__bg"></div>\n           <div class="pswp__scroll-wrap">\n               <div class="pswp__container">\n                   <div class="pswp__item"></div>\n                   <div class="pswp__item"></div>\n                   <div class="pswp__item"></div>\n               </div>\n               <div class="pswp_extends_close"></div>\n           </div>\n       </div>\n     ',n.firstElementChild}var u=(e(d,[{key:"init",value:function(){this.clickFnBind=this.clickFn.bind(this),this.closeFnbind=this.closeFn.bind(this),c.on(this.clickElm,"click",this.clickFnBind,this.useCapture)}},{key:"closeFn",value:function(e){"pswp_extends_close"==e.target.className&&this.gallery&&this.gallery.close()}},{key:"clickFn",value:function(e){var t,l,n,i,o=this,a=e.target;this.useCapture&&(a=a.firstChild),c.isComplianceImg(a,this.swipeAttr)&&(t="img"+(this.swipeAttr&&"["+this.swipeAttr+"]"),l=this.clickElm.querySelectorAll(t),n=c.getImgItems(l,this.realAddress),i=c.getTagetImgIndex(l,a),c.extend(this.options,{index:i,getThumbBoundsFn:function(e){var t=window.innerHeight,n=l[e],i=window.pageYOffset||document.documentElement.scrollTop,o=n.getBoundingClientRect(),a=o.top,r=o.height,s=a+r<0?i-r:t<a?i+t:a+i;return{x:o.left,w:o.width,y:s}}}),setTimeout(function(e){o.gallery=new r(o.pswpElm,null,n,o.options),o.gallery.init(),o.pswpElm.querySelector(".pswp_extends_close").addEventListener("click",o.closeFnbind)}))}},{key:"unbind",value:function(){c.off(this.clickElm,"click",this.clickFnBind,this.useCapture)}}]),d);function d(e,t,n,i,o){a(this,d),this.clickElm=e,this.swipeAttr=t.swipeAttr,this.realAddress=t.realAddress,this.options=n,this.pswpElm=l(o),this.useCapture=i,this.disableDownload=o,this.init()}return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e.component("picturesPreview",{props:{swipeAttr:{type:String,default:""},realAddress:{type:String,default:"large"},useCapture:{type:Boolean,default:!1},disableDownload:{type:Boolean,default:!1},previewOptions:{type:Object,default:function(){return{}}}},render:function(){return this.imgWrapNode=this.$slots.default&&this.$slots.default[0],this.imgWrapNode},mounted:function(){this.init()},updated:function(){this.imgWrapNode&&this.imgWrapNode.elm!==this.curImgWrapElm&&(this.unbind(),this.init())},destroyed:function(){this.unbind()},methods:{init:function(){this.imgWrapNode&&this.imgWrapNode.elm&&(c.extend(t,this.previewOptions),this.curImgWrapElm=this.imgWrapNode.elm,this.vuePhoto=new u(this.curImgWrapElm,{swipeAttr:this.swipeAttr,realAddress:this.realAddress},t,this.useCapture,this.disableDownload))},unbind:function(){this.vuePhoto&&this.vuePhoto.unbind()}}})}});
